postgresql_global_config_options:
  - option: unix_socket_directories
    value: '{{ postgresql_unix_socket_directories | join(",") }}'
  - option: log_directory
    value: "log"
  - option: max_connections
    value: 1024
  - option: shared_buffers
    value: 256MB
  - option: effective_cache_size
    value: 768MB
  - option: maintenance_work_mem
    value: 64MB
  - option: checkpoint_completion_target
    value: 0.9
  - option: wal_buffers
    value: 7864kB
  - option: default_statistics_target
    value: 100
  - option: random_page_cost
    value: 4
  - option: effective_io_concurrency
    value: 2
  - option: work_mem
    value: 128kB
  - option: min_wal_size
    value: 1GB
  - option: max_wal_size
    value: 4GB

postgresql_hba_entries:
  - { type: local, database: all, user: all, auth_method: trust }
  - {
      type: host,
      database: all,
      user: all,
      address: "127.0.0.1/32",
      auth_method: trust,
    }
  - {
      type: host,
      database: all,
      user: all,
      address: "::1/128",
      auth_method: trust,
    }
  - {
      type: host,
      database: all,
      user: all,
      address: "10.110.32.0/20",
      auth_method: md5,
    }

postgresql_databases:
  - name: baseapi
    owner: baseapi

postgresql_users:
  - name: baseapi
    password: "{{ postgresql_password }}"
